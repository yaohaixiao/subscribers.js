!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).subscribers=e()}(this,(function(){"use strict";const t={},e=(t,e)=>{const r=Object.prototype.hasOwnProperty;return t&&r.call(t,e)},r=r=>e(t,r)&&t[r].length>0,n=(t,e=!0)=>e?r(t):(t=>{let e=r(t),n=t.lastIndexOf(".");for(;!e&&-1!==n;)n=(t=t.substring(0,n)).lastIndexOf("."),e=r(t);return e})(t),o=(e,o,s=!0)=>{const c=e=>{if(!r(e))return!1;t[e].forEach((t=>{t.callback(o)}))},l=()=>{let t=e,r=e.lastIndexOf(".");for(;-1!==r;)t=t.substring(0,r),r=t.lastIndexOf("."),c(t);c(e),c("*")};if(!n(e))return!1;s?setTimeout(l,10):l()},s=(()=>{let t=0;return(e="guid-")=>(t+=1,`${e+t}`)})(),c=(e,r)=>{const n=s();let o="symbol"==typeof e?e.toString():e;return c=r,"[object Function]"===Object.prototype.toString.apply(c)&&(t[o]||(t[o]=[]),t[o].push({topic:o,callback:r,token:n}),n);var c},l=r=>{if(!e(t,r))return!1;delete t[r]},i=(e,r)=>{if(!n(e))return!1;r?(e=>{const r=Object.keys(t);if(!e||r.length<1)return!1;r.forEach((r=>{const n=t[r];let o;n.forEach(((t,r)=>{t.callback!==e&&t.token!==e||(o=t.topic,n.splice(-1,r))})),n.length<1&&l(o)}))})(r):l(e)},f=(t,e)=>c(t,(function(){i(t,e),e.apply(this,arguments)})),u=t=>"string"==typeof t,a=r=>{(t=>{const e=Object.prototype.toString;return Array.isArray?Array.isArray(t):"[object Array]"===e.apply(t)})(r)?(r=>{if(!n(r))return!1;Object.keys(t).forEach((n=>{e(t,n)&&0===n.indexOf(r)&&delete t[n]}))})(r):u(r)&&l(r)},h=r=>Object.keys(t).length<1?[]:r?/^guid-\d+$/i.test(r)?(e=>{const r=Object.keys(t);let n=null;return r.length<1?null:(t.forEach((t=>{t.forEach((r=>{r.callback!==e&&r.token!==e||(n=t)}))})),n)})(r):u(r)?(r=>{const n=Object.keys(t);let o=[];return n.length<1||n.forEach((n=>{const s={};e(t,n)&&n.startsWith(r)&&(s[n]=t[n],o.push(s))})),o})(r):void 0:t;return{emit(t,e,r=!0){return o(t,e,r),this},notify(t,e){return((t,e)=>{o(t,e,!1)})(t,e),this},on:(t,e)=>c(t,e),once:(t,e)=>f(t,e),all:t=>(t=>c("*",t))(t),off(t,e){return i(t,e),this},remove(t){return a(t),this},clear(){return(()=>{const e=Object.keys(t);if(e.length<1)return!1;e.forEach((e=>{delete t[e]}))})(),this},get:t=>h(t),has:(t,e=!0)=>n(t,e)}}));
//# sourceMappingURL=subscribers.min.js.map
