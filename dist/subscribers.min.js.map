{"version":3,"names":[],"mappings":"","sources":["subscribers.js"],"sourcesContent":["!function(n,t){\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?module.exports=t():n.Subscribers=t()}(this,function(){\"use strict\";function e(e,t){function r(n){f(n)&&c[n].forEach(function(n){n.callback(t)})}function n(){for(var n=e,t=e.lastIndexOf(\".\");-1!==t;)t=(n=n.substring(0,t)).lastIndexOf(\".\"),r(n);r(e)}var i=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];s(e)&&(i?setTimeout(n,4):n())}function i(n,t){var e=r();return\"[object Function]\"===Object.prototype.toString.apply(t)&&(c[n]||(c[n]=[]),c[n].push({callback:t,token:e}),e)}function u(n,e){var r=-1,t=[];s(n)&&(t=c[n],!e||(t.forEach(function(n,t){n.callback!==e&&n.token!==e||(r=t)}),-1<r&&(t.splice(r,1),t.length<1)))&&a(n)}var n,c={},r=(n=0,function(){return n+=1,\"\".concat((0<arguments.length&&void 0!==arguments[0]?arguments[0]:\"guid-\")+n)}),o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},f=function(n){return o(c,n)&&0<c[n].length},s=function(n){for(var t=f(n),e=n.lastIndexOf(\".\");!t&&-1!==e;)e=(n=n.substring(0,e)).lastIndexOf(\".\"),t=f(n);return t},a=function(n){if(!o(c,n))return!1;delete c[n]};return{publish:function(n,t){return e(n,t,!(2<arguments.length&&void 0!==arguments[2])||arguments[2]),this},notify:function(n,t){return e(n,t,!1),this},subscribe:i,subscribeOnce:function(n,t){return r=t,i(e=n,function(){u(e,r),r.apply(this,arguments)});var e,r},unsubscribe:function(n,t){return u(n,t),this},getSubscriptions:function(n){return e=n,r=[],Object.keys(c).forEach(function(n){var t={};(!e||o(c,n)&&0===n.indexOf(e))&&(t[n]=c[n],r.push(t))}),r;var e,r},hasDirectSubscribersFor:function(n){return f(n)},hasSubscribers:function(n){return s(n)},deleteSubscriber:function(n){return a(n),this},deleteSubscribers:function(n){return function(t){if(!s(t))return;Object.keys(c).forEach(function(n){o(c,n)&&0===n.indexOf(t)&&delete c[n]})}(n),this},clear:function(){return c={},this}}});"],"file":"subscribers.min.js"}