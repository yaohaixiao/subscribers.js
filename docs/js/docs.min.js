!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.Subscribers=t()}(this,function(){"use strict";function n(n,t,e){function r(e){a(e)&&s[e].forEach(function(e){e.callback(t)})}function o(){for(var e=n,t=n.lastIndexOf(".");-1!==t;)t=(e=e.substring(0,t)).lastIndexOf("."),r(e);r(n)}e=!(2<arguments.length&&void 0!==e)||e;i(n)&&(e?setTimeout(o,4):o())}function o(e,t){var n=function(){return r+=1,"".concat((0<arguments.length&&void 0!==arguments[0]?arguments[0]:"guid-")+r)}();return"[object Function]"===Object.prototype.toString.apply(t)&&(s[e]||(s[e]=[]),s[e].push({callback:t,token:n}),n)}function c(e,n){var r=-1,t=[];i(e)&&(t=s[e],!n||(t.forEach(function(e,t){e.callback!==n&&e.token!==n||(r=t)}),-1<r&&(t.splice(r,1),t.length<1)))&&u(e)}function i(e){for(var t=a(e),n=e.lastIndexOf(".");!t&&-1!==n;)n=(e=e.substring(0,n)).lastIndexOf("."),t=a(e);return t}function u(e){l(s,e)&&delete s[e]}var r,s={},l=(r=0,function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}),a=function(e){return l(s,e)&&0<s[e].length};return{publish:function(e,t){return n(e,t,!(2<arguments.length&&void 0!==arguments[2])||arguments[2]),this},notify:function(e,t){return n(e,t,!1),this},subscribe:o,subscribeOnce:function(e,t){return r=t,o(n=e,function(){c(n,r),r.apply(this,arguments)});var n,r},unsubscribe:function(e,t){return c(e,t),this},getSubscriptions:function(e){return n=e,r=[],Object.keys(s).forEach(function(e){var t={};(!n||l(s,e)&&0===e.indexOf(n))&&(t[e]=s[e],r.push(t))}),r;var n,r},hasDirectSubscribersFor:function(e){return a(e)},hasSubscribers:i,deleteSubscriber:function(e){return u(e),this},deleteSubscribers:function(e){return i(t=e)&&Object.keys(s).forEach(function(e){l(s,e)&&0===e.indexOf(t)&&delete s[e]}),this;var t},clear:function(){return s={},this}}}),function(){let i=null,u=!1,t=null;function n(e){var t=e.target.href.split("#")[1],t=document.querySelector("#"+t);h(t.offsetTop,50),e.stopPropagation(),e.preventDefault()}function e(){h(a)}function r(){h(f)}const o=document.querySelector("#aside"),s=document.querySelector("#main"),c=document.querySelector("#arrow-up"),l=document.querySelector("#arrow-down"),a=0,f=s.scrollHeight,d=e=>{e<=a?c.classList.add("hide"):e>=f?l.classList.add("hide"):e>a&&e<f&&(c.classList.remove("hide"),l.classList.remove("hide"))},h=(e,t=100)=>{let n=s.scrollTop;const r=e-n,o=Math.ceil(r/15),c=()=>{if(i&&clearTimeout(i),((n+=o)<=e&&r<0||n>=e&&0<r)&&(n=e,u=!1),s.scrollTop=n,d(n),!u)return clearTimeout(i),i=null,!1;i=setTimeout(c,t)};if(u)return clearTimeout(i),i=null,u=!1;u=!0,c()};var b=o.querySelectorAll(".aside__anchor");d(s.scrollTop);{const p=new IntersectionObserver(e=>{e.forEach(e=>{0<e.intersectionRatio&&(e=e.target.getAttribute("id"),console.log("id",e),e=document.querySelector(`.aside__anchor[href="#${e}"]`).parentNode,t&&t.classList.remove("active"),e.classList.add("active"),t=e)})},{root:s});s.querySelectorAll(".section__h3").forEach(e=>{p.observe(e)})}b.forEach(e=>{e.click(".aside__anchor",n)}),c.addEventListener("click",e),l.addEventListener("click",r)}();